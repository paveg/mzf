///|
/// Demo: Sixel layout visualization
test "sixel demo layout" {
  // Create a sample layout tree (flex container with 3 children)
  let layout : @types.Layout = {
    id: "root",
    x: 0.0,
    y: 0.0,
    width: 300.0,
    height: 200.0,
    margin: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
    padding: { top: 10.0, right: 10.0, bottom: 10.0, left: 10.0 },
    border: { top: 2.0, right: 2.0, bottom: 2.0, left: 2.0 },
    overflow_x: Visible,
    overflow_y: Visible,
    children: [
      // Header
      {
        id: "header",
        x: 12.0,
        y: 12.0,
        width: 276.0,
        height: 40.0,
        margin: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        padding: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        border: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        overflow_x: Visible,
        overflow_y: Visible,
        children: [],
        text: None,
      },
      // Sidebar
      {
        id: "sidebar",
        x: 12.0,
        y: 62.0,
        width: 80.0,
        height: 126.0,
        margin: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        padding: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        border: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        overflow_x: Visible,
        overflow_y: Visible,
        children: [],
        text: None,
      },
      // Main content
      {
        id: "main",
        x: 102.0,
        y: 62.0,
        width: 186.0,
        height: 126.0,
        margin: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        padding: { top: 5.0, right: 5.0, bottom: 5.0, left: 5.0 },
        border: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
        overflow_x: Visible,
        overflow_y: Visible,
        children: [
          // Nested box
          {
            id: "box1",
            x: 5.0,
            y: 5.0,
            width: 80.0,
            height: 50.0,
            margin: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
            padding: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
            border: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
            overflow_x: Visible,
            overflow_y: Visible,
            children: [],
            text: None,
          },
          {
            id: "box2",
            x: 95.0,
            y: 5.0,
            width: 80.0,
            height: 50.0,
            margin: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
            padding: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
            border: { top: 0.0, right: 0.0, bottom: 0.0, left: 0.0 },
            overflow_x: Visible,
            overflow_y: Visible,
            children: [],
            text: None,
          },
        ],
        text: None,
      },
    ],
    text: None,
  }

  // Render to Sixel
  let _ = render_layout(layout, 300, 200)

}
